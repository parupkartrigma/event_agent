<div ng-controller="emailCtrl">
    <div class="clearfix"></div>
    <div class="alert {{dump.type}}" ng-show="dump.message">{{dump.message}}</div>
    <div class="grid">
        <div class="grid-title">
            <div class="pull-left">
                <span>Manage Email Templates</span>
                <div class="clearfix"></div>
            </div>
            <div class="clearfix"></div>
        </div>
        <div class="grid-content overflow">
            <a href="#/email/add/" class="btn btn-primary pull-right">
              Add New Template
            </a>
            <div class="clear">
                <!---->
            </div>
            <br/>
            <div class="alert" ng-show="email_templates.length==0">
                No items matching selected criteria.
            </div>
            <table class="table table-bordered table-mod-2" ng-show="email_templates.length>0">
                <thead>
                    <tr>
                        <th>Email Template Name</th>
                        <th width="100">Actions</th>
                        <th width="100">Link to Signup Action</th>
                    </tr>
                </thead>
                <tbody ng-repeat="template in email_templates">
                    <tr>
                        <td>{{template.name}}</td>
                        <td>
                            <div class="btn-group">
                                <a href="#/email/edit/{{template._id}}" class="btn">
                      Edit
                    </a>
                                <span ng-click="delete_confirm=true" class="btn btn-danger">
                                    Delete
                                </span>
                            </div>
                        </td>
                        <td>
                            <select ng-change="change_status(template,status)" ng-model="status">
                                <option value="">Select Action</option>
                                <option ng-selected="template.status=='pending'" value="pending">Pending</option>
                                <option ng-selected="template.status=='approved'" value="approved">Approved</option>
                                <option ng-selected="template.status=='deny'" value="deny">Deny</option>
                            </select>
                        </td>
                    </tr>
                    <tr ng-show="delete_confirm">
                        <td colspan="3">
                            <div class="alert">
                                Are you sure you want to delete this item?
                                <span class="btn-group">
                                    <span ng-click="delete($index)" class="btn btn-danger">Yes, sure</span>
                                    <span ng-click="delete_confirm=false;" class="btn btn-default">Cancel</span>
                                </span>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div class="clearfix"></div>
        </div>
    </div>
</div>